import{u as f,j as e,r as v}from"./index-p6RFt118.js";import{r as p}from"./react-vendor-CBH9K-97.js";import{u as w,c as S}from"./router-BsRkIn4w.js";import"./socket-TjCxX7sJ.js";import"./state-CJScMKLL.js";function A(){const d=w(),{sessionCode:t}=S(),{overlappingOptions:a,allSelections:u,participants:N}=f(),[r,o]=p.useState(!1),[m,x]=p.useState(""),l=a.length>0,h=async()=>{if(t){o(!0),x("");try{await v(t),d(`/session/${t}/select`)}catch(s){x(s instanceof Error?s.message:"Failed to restart session"),o(!1)}}},j=()=>{d("/")};return e.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 px-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:l?"ðŸŽ‰ Perfect Match!":"ðŸ˜• No Match Found"}),e.jsx("p",{className:"text-gray-600",children:l?"Everyone agrees on these options":"No restaurants matched everyone&apos;s preferences"})]}),l?e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Matching Restaurants"}),e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-500 rounded-lg",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.displayName}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]},s.optionId))})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ¤·"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No restaurants were selected by all participants"}),e.jsx("button",{onClick:h,disabled:r,className:"px-6 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 active:scale-[0.98] transition-all",children:r?"Restarting...":"Try Again"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Everyone's Selections"}),e.jsx("div",{className:"space-y-4",children:N.map(s=>{const b=u[s.displayName]||[];return e.jsxs("div",{className:"border-b pb-4 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:s.displayName.charAt(0).toUpperCase()}),e.jsx("p",{className:"font-semibold text-gray-900",children:s.displayName})]}),e.jsx("div",{className:"ml-10",children:b.length>0?e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:b.map((n,y)=>{const i=a.find(c=>c.optionId===n),g=a.some(c=>c.optionId===n);return e.jsxs("li",{className:"flex items-center space-x-2",children:[g&&e.jsx("span",{className:"text-green-500",children:"âœ“"}),e.jsx("span",{className:g?"font-medium text-green-700":"",children:(i==null?void 0:i.displayName)||n})]},y)})}):e.jsx("p",{className:"text-sm text-gray-400 italic",children:"No selections"})})]},s.participantId)})})]}),m&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:m})}),e.jsxs("div",{className:"space-y-3",children:[l&&e.jsx("button",{onClick:h,disabled:r,className:"w-full min-h-[44px] px-6 py-3 text-base font-medium text-blue-600 bg-white rounded-lg hover:bg-blue-50 active:scale-[0.98] transition-all border-2 border-blue-600",children:r?"Restarting...":"Select Again"}),e.jsx("button",{onClick:j,className:"w-full min-h-[44px] px-6 py-3 text-base font-medium text-gray-700 bg-white rounded-lg hover:bg-gray-50 active:scale-[0.98] transition-all border-2 border-gray-300",children:"Start New Session"})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["Session Code: ",e.jsx("span",{className:"font-mono font-semibold",children:t})]})})]})})}export{A as default};
//# sourceMappingURL=ResultsPage-K-YZRvzJ.js.map
