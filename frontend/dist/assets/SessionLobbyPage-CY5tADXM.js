import{u as p,j as e}from"./index-p6RFt118.js";import{r}from"./react-vendor-CBH9K-97.js";import{g as f}from"./apiClient-2onQ2JwX.js";import{u as j,c as y}from"./router-BsRkIn4w.js";import"./socket-TjCxX7sJ.js";import"./state-CJScMKLL.js";function L(){const d=j(),{sessionCode:s}=y(),{participants:i,isConnected:c}=p(),[n,m]=r.useState(""),[o,l]=r.useState(!1),[x,h]=r.useState(!0);r.useEffect(()=>{(async()=>{if(s)try{const a=await f(s);m(a.shareableLink)}catch(a){console.error("Failed to load session:",a)}finally{h(!1)}})()},[s]);const b=()=>{s&&(navigator.clipboard.writeText(s),l(!0),setTimeout(()=>l(!1),2e3))},g=()=>{n&&(navigator.clipboard.writeText(n),l(!0),setTimeout(()=>l(!1),2e3))},u=()=>{d(`/session/${s}/select`)};return x?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading session..."})]})}):e.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Session Lobby"}),e.jsx("p",{className:"text-gray-600",children:"Waiting for participants to join"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-700 mb-2 text-center",children:"Session Code"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"text-3xl font-mono font-bold text-blue-600 tracking-widest",children:s}),e.jsx("button",{onClick:b,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Copy code",children:o?"‚úì":"üìã"})]}),n&&e.jsx("button",{onClick:g,className:"mt-4 w-full px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:o?"Copied!":"Copy shareable link"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Participants (",i.length,"/4)"]}),e.jsxs("div",{className:"space-y-3",children:[i.map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:t.displayName.charAt(0).toUpperCase()}),e.jsx("div",{className:"flex-1",children:e.jsxs("p",{className:"font-medium text-gray-900",children:[t.displayName,t.isHost&&e.jsx("span",{className:"ml-2 text-xs text-blue-600 font-semibold",children:"HOST"})]})}),e.jsx("div",{className:"text-green-500",children:"‚óè"})]},t.participantId)),[...Array(4-i.length)].map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-400",children:"?"}),e.jsx("p",{className:"text-gray-400",children:"Waiting for participant..."})]},`empty-${a}`))]})]}),!c&&e.jsx("div",{className:"mb-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"‚ö†Ô∏è Disconnected from server"})}),e.jsx("button",{onClick:u,disabled:i.length===0,className:"w-full min-h-[44px] px-6 py-3 text-lg font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed active:scale-[0.98] transition-all shadow-lg",children:"Start Selecting"}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Share the code with friends to invite them"}),e.jsx("p",{className:"mt-1",children:"Sessions expire after 30 minutes of inactivity"})]})]})})}export{L as default};
//# sourceMappingURL=SessionLobbyPage-CY5tADXM.js.map
