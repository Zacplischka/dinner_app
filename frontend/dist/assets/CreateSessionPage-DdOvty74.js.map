{"version":3,"file":"CreateSessionPage-DdOvty74.js","sources":["../../src/pages/CreateSessionPage.tsx"],"sourcesContent":["// Create Session page - Host creates a new dinner decision session\n// Based on: specs/001-dinner-decider-enables/tasks.md T052\n\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createSession } from '../services/apiClient';\nimport { joinSession } from '../services/socketService';\nimport { useSessionStore } from '../stores/sessionStore';\n\nexport default function CreateSessionPage() {\n  const navigate = useNavigate();\n  const [hostName, setHostName] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { setSessionCode } = useSessionStore();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    // Validate host name\n    if (hostName.trim().length < 1 || hostName.trim().length > 50) {\n      setError('Name must be between 1 and 50 characters');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const response = await createSession(hostName.trim());\n\n      // Store session code in Zustand\n      setSessionCode(response.sessionCode);\n\n      // Join the session via WebSocket\n      await joinSession(response.sessionCode, hostName.trim());\n\n      // Navigate to session lobby\n      navigate(`/session/${response.sessionCode}`);\n    } catch (err: unknown) {\n      setError(err instanceof Error ? err.message : 'Failed to create session');\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <main className=\"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 px-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n            Create Session\n          </h1>\n          <p className=\"text-gray-600\">\n            Start a new dinner decision session\n          </p>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"bg-white rounded-lg shadow-lg p-6 space-y-6\">\n          <div>\n            <label htmlFor=\"hostName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Your Name\n            </label>\n            <input\n              id=\"hostName\"\n              name=\"hostName\"\n              type=\"text\"\n              value={hostName}\n              onChange={(e) => setHostName(e.target.value)}\n              placeholder=\"Enter your name\"\n              maxLength={50}\n              className=\"w-full min-h-[44px] px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all\"\n              autoFocus\n              disabled={isLoading}\n            />\n            <p className=\"mt-1 text-xs text-gray-500\">\n              {hostName.length}/50 characters\n            </p>\n          </div>\n\n          {/* Error message */}\n          {error && (\n            <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          )}\n\n          {/* Buttons */}\n          <div className=\"space-y-3\">\n            <button\n              type=\"submit\"\n              disabled={isLoading || !hostName.trim()}\n              className=\"w-full min-h-[44px] px-6 py-3 text-lg font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed active:scale-[0.98] transition-all shadow-lg\"\n            >\n              {isLoading ? 'Creating...' : 'Create Session'}\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={() => navigate('/')}\n              disabled={isLoading}\n              className=\"w-full min-h-[44px] px-6 py-3 text-base font-medium text-gray-700 bg-white rounded-lg hover:bg-gray-50 active:scale-[0.98] transition-all border-2 border-gray-300\"\n            >\n              Cancel\n            </button>\n          </div>\n        </form>\n\n        {/* Info */}\n        <div className=\"mt-6 text-center text-sm text-gray-500\">\n          <p>You&apos;ll be able to share a session code with friends</p>\n        </div>\n      </div>\n    </main>\n  );\n}"],"names":["CreateSessionPage","navigate","useNavigate","hostName","setHostName","useState","isLoading","setIsLoading","error","setError","setSessionCode","useSessionStore","handleSubmit","e","response","createSession","joinSession","err","jsxs","jsx"],"mappings":"8OASA,SAAwBA,GAAoB,CAC1C,MAAMC,EAAWC,EAAA,EACX,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAE,EACrC,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAS,EAAK,EAC1C,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,EAAE,EAC/B,CAAE,eAAAK,CAAA,EAAmBC,EAAA,EAErBC,EAAe,MAAOC,GAAuB,CAKjD,GAJAA,EAAE,eAAA,EACFJ,EAAS,EAAE,EAGPN,EAAS,OAAO,OAAS,GAAKA,EAAS,KAAA,EAAO,OAAS,GAAI,CAC7DM,EAAS,0CAA0C,EACnD,MACF,CAEAF,EAAa,EAAI,EAEjB,GAAI,CACF,MAAMO,EAAW,MAAMC,EAAcZ,EAAS,MAAM,EAGpDO,EAAeI,EAAS,WAAW,EAGnC,MAAME,EAAYF,EAAS,YAAaX,EAAS,MAAM,EAGvDF,EAAS,YAAYa,EAAS,WAAW,EAAE,CAC7C,OAASG,EAAc,CACrBR,EAASQ,aAAe,MAAQA,EAAI,QAAU,0BAA0B,EACxEV,EAAa,EAAK,CACpB,CACF,EAEA,aACG,OAAA,CAAK,UAAU,2GACd,SAAAW,EAAAA,KAAC,MAAA,CAAI,UAAU,kBAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,iBAEtD,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,qCAAA,CAE7B,CAAA,EACF,EAGAD,EAAAA,KAAC,OAAA,CAAK,SAAUN,EAAc,UAAU,8CACtC,SAAA,CAAAM,OAAC,MAAA,CACC,SAAA,CAAAC,MAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,+CAA+C,SAAA,YAEnF,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,WACH,KAAK,WACL,KAAK,OACL,MAAOhB,EACP,SAAWU,GAAMT,EAAYS,EAAE,OAAO,KAAK,EAC3C,YAAY,kBACZ,UAAW,GACX,UAAU,iKACV,UAAS,GACT,SAAUP,CAAA,CAAA,EAEZY,EAAAA,KAAC,IAAA,CAAE,UAAU,6BACV,SAAA,CAAAf,EAAS,OAAO,gBAAA,CAAA,CACnB,CAAA,EACF,EAGCK,GACCW,EAAAA,IAAC,MAAA,CAAI,UAAU,iDACb,eAAC,IAAA,CAAE,UAAU,uBAAwB,SAAAX,CAAA,CAAM,CAAA,CAC7C,EAIFU,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAUb,GAAa,CAACH,EAAS,KAAA,EACjC,UAAU,wMAET,WAAY,cAAgB,gBAAA,CAAA,EAG/BgB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMlB,EAAS,GAAG,EAC3B,SAAUK,EACV,UAAU,qKACX,SAAA,QAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,QAGC,MAAA,CAAI,UAAU,yCACb,SAAAa,EAAAA,IAAC,IAAA,CAAE,+DAAwD,CAAA,CAC7D,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}