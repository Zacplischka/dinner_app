import{u as y,j as e,a as N}from"./index-p6RFt118.js";import{r as o}from"./react-vendor-CBH9K-97.js";import{u as j,b as v}from"./router-BsRkIn4w.js";import"./socket-TjCxX7sJ.js";import"./state-CJScMKLL.js";function k(){const m=j(),[l]=v(),[i,u]=o.useState(""),[r,h]=o.useState(""),[n,x]=o.useState(!1),[g,a]=o.useState(""),{setSessionCode:p,isConnected:c}=y();o.useEffect(()=>{const s=l.get("code");s&&u(s.toUpperCase())},[l]);const b=async s=>{if(s.preventDefault(),a(""),i.trim().length!==6){a("Session code must be 6 characters");return}if(r.trim().length<1||r.trim().length>50){a("Name must be between 1 and 50 characters");return}if(!c){a("Not connected to server. Please refresh the page.");return}x(!0);try{const t=i.trim().toUpperCase();await N(t,r.trim()),p(t),m(`/session/${t}`)}catch(t){const d=t instanceof Error?t.message:"Failed to join session";d.includes("full")?a("This session is full (maximum 4 participants)"):d.includes("not found")?a("Session not found or has expired"):a(d),x(!1)}},f=s=>{const t=s.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,6);u(t)};return e.jsx("main",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join Session"}),e.jsx("p",{className:"text-gray-600",children:"Enter the session code shared by your host"})]}),e.jsxs("form",{onSubmit:b,className:"bg-white rounded-lg shadow-lg p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sessionCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Code"}),e.jsx("input",{id:"sessionCode",name:"sessionCode",type:"text",value:i,onChange:s=>f(s.target.value),placeholder:"ABC123",maxLength:6,className:"w-full min-h-[44px] px-4 py-3 text-base text-center font-mono text-xl tracking-widest border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all uppercase",autoFocus:!l.get("code"),disabled:n}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"6-character code (letters and numbers)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"participantName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),e.jsx("input",{id:"participantName",name:"displayName",type:"text",value:r,onChange:s=>h(s.target.value),placeholder:"Enter your name",maxLength:50,className:"w-full min-h-[44px] px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",disabled:n}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[r.length,"/50 characters"]})]}),!c&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"⚠️ Connecting to server..."})}),g&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:g})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"submit",disabled:n||!i.trim()||!r.trim()||!c,className:"w-full min-h-[44px] px-6 py-3 text-lg font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed active:scale-[0.98] transition-all shadow-lg",children:n?"Joining...":"Join Session"}),e.jsx("button",{type:"button",onClick:()=>m("/"),disabled:n,className:"w-full min-h-[44px] px-6 py-3 text-base font-medium text-gray-700 bg-white rounded-lg hover:bg-gray-50 active:scale-[0.98] transition-all border-2 border-gray-300",children:"Cancel"})]})]})]})})}export{k as default};
//# sourceMappingURL=JoinSessionPage-DjRCUfTj.js.map
