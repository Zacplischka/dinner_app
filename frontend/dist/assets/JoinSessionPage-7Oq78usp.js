import{u as y,j as e,a as N}from"./index-CWGIdwLc.js";import{r as n}from"./react-vendor-CBH9K-97.js";import{u as j,b as v}from"./router-BsRkIn4w.js";import"./socket-TjCxX7sJ.js";import"./state-CJScMKLL.js";function k(){const m=j(),[l]=v(),[i,u]=n.useState(""),[a,h]=n.useState(""),[o,x]=n.useState(!1),[g,t]=n.useState(""),{setSessionCode:b,isConnected:c}=y();n.useEffect(()=>{const s=l.get("code");s&&u(s.toUpperCase())},[l]);const p=async s=>{if(s.preventDefault(),t(""),i.trim().length!==6){t("Session code must be 6 characters");return}if(a.trim().length<1||a.trim().length>50){t("Name must be between 1 and 50 characters");return}if(!c){t("Not connected to server. Please refresh the page.");return}x(!0);try{const r=i.trim().toUpperCase();await N(r,a.trim()),b(r),m(`/session/${r}`)}catch(r){const d=r.message||"Failed to join session";d.includes("full")?t("This session is full (maximum 4 participants)"):d.includes("not found")?t("Session not found or has expired"):t(d),x(!1)}},f=s=>{const r=s.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,6);u(r)};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join Session"}),e.jsx("p",{className:"text-gray-600",children:"Enter the session code shared by your host"})]}),e.jsxs("form",{onSubmit:p,className:"bg-white rounded-lg shadow-lg p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sessionCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Code"}),e.jsx("input",{id:"sessionCode",type:"text",value:i,onChange:s=>f(s.target.value),placeholder:"ABC123",maxLength:6,className:"w-full min-h-[44px] px-4 py-3 text-base text-center font-mono text-xl tracking-widest border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all uppercase",autoFocus:!l.get("code"),disabled:o}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"6-character code (letters and numbers)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"participantName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),e.jsx("input",{id:"participantName",type:"text",value:a,onChange:s=>h(s.target.value),placeholder:"Enter your name",maxLength:50,className:"w-full min-h-[44px] px-4 py-3 text-base border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",disabled:o}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[a.length,"/50 characters"]})]}),!c&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"⚠️ Connecting to server..."})}),g&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:g})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"submit",disabled:o||!i.trim()||!a.trim()||!c,className:"w-full min-h-[44px] px-6 py-3 text-lg font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed active:scale-[0.98] transition-all shadow-lg",children:o?"Joining...":"Join Session"}),e.jsx("button",{type:"button",onClick:()=>m("/"),disabled:o,className:"w-full min-h-[44px] px-6 py-3 text-base font-medium text-gray-700 bg-white rounded-lg hover:bg-gray-50 active:scale-[0.98] transition-all border-2 border-gray-300",children:"Cancel"})]})]})]})})}export{k as default};
//# sourceMappingURL=JoinSessionPage-7Oq78usp.js.map
